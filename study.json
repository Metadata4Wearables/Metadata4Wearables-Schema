{
	"$schema": "https://json-schema.org/draft-07/schema",
	"$id": "https://github.com/cdsig/CDSIG-Schema/blob/main/study.json",
	"$defs": {
		"group": {
			"type": "object",
			"properties": {
				"name": {
					"description": "Name of group.",
					"example": "ACHM patients",
					"type": "string"
				},
				"description": {
					"description": "Description of sample group",
					"example": "",
					"type": "string"
				},
				"label": {
					"description": "Label of sample group",
					"example": 0,
					"type": "integer"
				},
				"size": {
					"description": "Group size",
					"example": 6,
					"type": "integer",
					"minimum": 1
				},
				"inclusion": {
					"description": "Inclusion criteria for sample group, given as an array of strings",
					"example": "",
					"type": "array",
					"minItems": 0,
					"items": {
						"type": "string"
					}
				},
				"exclusion": {
					"description": "Exclusion criteria for sample group, given as an array of strings",
					"example": "",
					"type": "array",
					"minItems": 0,
					"items": {
						"type": "string"
					}
				}
			},
			"required": ["name", "description", "label", "size", "inclusion"]
		}
	},
	"title": "Study-level metadata",
	"description": "Study-level metadata describes any information on a specific study, e.g. a specific data collection effort with multiple participants",
	"type": "object",
	"properties": {
		"name": {
			"description": "Informative or internal study name",
			"example": "ACHM2019",
			"type": "string"
		},
		"uuid": {
			"description": "Unique MD5 hash generated from the `name` field",
			"example": "01d429fd3c4cc02697eea7f3fe838c54",
			"type": "string"
		},
		"prereg_doi": {
			"description": "DOI (Digital Object Identifier) of pre-registration document describing data collection",
			"example": "",
			"type": "string"
		},
		"ethics_information": {
			"description": "Name of ethics committee and approval number",
			"example": "",
			"type": "string"
		},
		"clinical_trial": {
			"description": "Is this a registered clinical trial?",
			"example": false,
			"type": "boolean"
		},
		"description": {
			"description": "Short narrative description of the study",
			"example": "",
			"type": "string"
		},
		"sample": {
			"description": "Short description of the study sample.",
			"example": "Healthy control participants and ACHM patients",
			"type": "string"
		},
		"groups": {
			"description": "Description of the sample group(s) enrolled or examined in the study",
			"type": "array",
			"minItems": 1,
			"items": {
				"$ref": "#/$defs/group"
			}
		},
		"intervention": {
			"description": "Short description of the study intervention, if any",
			"example": "",
			"type": "string"
		},
		"keywords": {
			"description": "Key words describing the study.",
			"example": ["actigraphy", "congenital achromatopsia", "circadian"],
			"type": "array",
			"minItems": 3,
			"items": {
				"type": "string"
			}
		},
		"contributors": {
			"description": "Study contributors",
			"type": "array",
			"minItems": 1,
			"items": {
				"$ref": "https://github.com/cdsig/CDSIG-Schema/blob/main/person.json"
			}
		}
	},
	"if": {
		"properties": {
			"clinical_trial": {
				"const": true
			}
		}
	},
	"then": {
		"properties": {
			"clinical_trial_id": {
				"description": "Clinical trial identifier as well as registry",
				"example": "",
				"type": "string"
			}
		}
	},
	"required": ["name", "uuid", "clinical_trial", "ethics_information", "sample", "description", "keywords"]
}
